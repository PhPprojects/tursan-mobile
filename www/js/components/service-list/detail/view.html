
<ion-view view-title="{{plate}}">
  <ion-content class="padding">
      <div class="table-container">
        <div class="row">
          <div class="col" style="border-right: none;text-align: center;">Hareket Saati <div style="font-size: 30px; color: #e77915;">{{vm.item.EvenintStartTime.substr(0, 5)}}</div></div>
        </div>
      </div>

      <div class="card">
        <div class="item item-divider">
          <i class="icon ion-android-bus" style="margin-right: 8px; color: #e77915;"></i>Servis
        </div>
        <div class="item item-text-wrap">
          <div style="width: 50px; font-weight: 500; height: 50px; line-height: 47px; border: 2px solid #3a3633; border-radius: 5px; float: left; font-size: 22px;text-align: center; display: inline-block;">
            {{vm.item.ServiceNo}}
          </div>
          <div style="display: inline-block; height: 50px; width: calc(100% - 70px); margin-left: 5px; border-radius: 5px; text-align: center; border: 2px solid black;">
              <div style="margin-left: -5px; width: 30px; height: 47px; background-color: #0000ff; color: white; font-size: 13px; padding-top: 25px; font-weight: 500; display: inline-block;">TR</div>
              <div style="    width: calc(100% - 40px);
                display: inline-block;
                font-size: 29px;
                position: relative;
                top: -3px;
                color: black;">{{vm.item.Plate}}</div>
            <div>
          </div>
        </div>
      </div>

      <div class="card" style="margin-bottom: 0;">
        <div class="item item-divider">
          Sürücü
        </div>
      </div>
      <a class="item item-thumbnail-left" href="#">
        <img ng-if="vm.item.DriverImage && vm.item.DriverImage.length > 0" ng-src="{{vm.item.DriverImage}}" style="border-radius: 50%;">
        <h2>{{vm.item.DriverName + ' ' + vm.item.DriverSurname}}</h2>
        <p style="margin-top: 5px;"><i class="icon ion-ios-telephone" style="margin-right: 8px; color: #e77915;"></i><span style="font-size: 17px;" ng-click="callNumber(getPhone(vm.item.DriverPhone))">{{getPhone(vm.item.DriverPhone)}}</span></p>
      </a>

      <div class="card" style="margin-bottom: 0;">
        <div class="item item-divider">
          Proje Yoneticisi
        </div>
      </div>
      <a class="item item-thumbnail-right" href="#" style="margin-bottom: 10px;">
        <img ng-if="vm.item.ManagerImage && vm.item.ManagerImage.length > 0" ng-src="{{vm.item.ManagerImage}}" style="border-radius: 50%;">
        <h2>{{vm.item.ProjectManager}}</h2>
        <p style="margin-top: 5px;"><i class="icon ion-ios-telephone" style="margin-right: 8px; color: #e77915;"></i><span ng-click="callNumber(getPhone(vm.item.ProjectManagerPhone))" style="font-size: 17px;">{{getPhone(vm.item.ProjectManagerPhone)}}</span></p>
      </a>

    <div class="card" style="margin-bottom: 0;">
      <div class="item item-divider">
        Güzargah
      </div>
    </div>
    <div class="row">
      <div class="col active-poll">Başlangıç</div>
      <div class="col">{{vm.item.EveningStart}}</div>
    </div>
    <div class="row" ng-repeat="item in vm.item.routes" ng-if="$index != vm.item.routes.length - 1">
      <div class="col"></div>
      <div class="col">{{item}}</div>
    </div>
    <div class="row">
      <div class="col disabled-poll">Bitiş</div>
      <div class="col">{{vm.item.EveningEnd}}</div>
    </div>

    <div class="table-container">
      <div class="row">
        <div class="col" ng-click="activePage = 'arvento'" style="text-align: center; font-size: 18px;">
          Konum
        </div>
        <div class="col" ng-click="activePage = 'konum'" style="text-align: center; font-size: 18px;">
          Rota
        </div>
      </div>
    </div>

    <div ng-show="activePage =='konum'">
      <embed ng-src="{{vm.item.RouteUrl}}" width="100%" height="480">
      </embed>
    </div>


    <div ng-show="activePage == 'arvento'">
    <div style="width: 100%;
    height: 400px;
    position: relative;">
      <style>
      .map-loader svg {
        stroke: #e77915;
        width: 100px;
        height: 100px;
        padding-top: 30px;
      }

      .map-loader > ion-spinner {
        position: relative;
      top: 20px;
      }
      </style>
        <div class="map-loader" ng-show="showLoader" style="height: 100%;
        width: 100%;
        background-color: rgba(0, 0, 0, 0.2);
        position: absolute;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        color: white;
        text-align: center;
        line-height: 400px;
        font-weight: 800;
        z-index: 9999999;"><ion-spinner></ion-spinner></div>
        <ui-gmap-google-map center='map.center' zoom='map.zoom' options='options'>
          <ui-gmap-marker ng-if="vm.marker" coords="vm.marker.coords" idkey="vm.marker.id">
           </ui-gmap-marker>
        </ui-gmap-google-map>
        <p ng-show="vm.vehicle && vm.vehicle.address">
          Adres: {{vm.vehicle.address}}
        </p>
    </div>
  </div>
  </ion-content>
</ion-view>
